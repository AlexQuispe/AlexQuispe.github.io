<!DOCTYPE html><html lang=es data-theme=dark><head><base href=https://alexquispe.github.io/tutorials/ ><title>Guías y tutoriales - Creación y configuración de un nuevo dominio con Nginx</title><meta http-equiv=content-type content="text/html; charset=UTF-8"><meta http-equiv=X-UA-Compatible content=IE=edge><meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"><meta name=theme-color content=#002b36><meta name=description content="Proceso de creación y configuración de un dominio con Nginx en Sistemas Operativos Debian."><meta name=keywords content=install,config,domain,proxy><meta name=author content=Admin><meta property=og:title content="Creación y configuración de un nuevo dominio con Nginx"><meta property=og:description content="Proceso de creación y configuración de un dominio con Nginx en Sistemas Operativos Debian."><meta property=og:image content=https://alexquispe.github.io/tutorials/static/assets/img/logo.jpg><meta property=og:url content=https://alexquispe.github.io/tutorials/nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx><meta property=og:site_name content="Guías y tutoriales"><meta property=twitter:title content="Creación y configuración de un nuevo dominio con Nginx"><meta property=twitter:description content="Proceso de creación y configuración de un dominio con Nginx en Sistemas Operativos Debian."><meta property=twitter:image content=https://alexquispe.github.io/tutorials/static/assets/img/logo.jpg><meta property=twitter:card content=summary><link rel=icon type=image/png sizes=32x32 href=./static/assets/favicon_32x32.png><link rel=icon type=image/png sizes=192x192 href=./static/assets/favicon_192x192.png><link rel=canonical href=https://alexquispe.github.io/tutorials/nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx><link rel=alternate hreflang=en href=https://alexquispe.github.io/tutorials/en/nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx><link rel=alternate hreflang=es href=https://alexquispe.github.io/tutorials/nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx><link rel=alternate hreflang=x-default href=https://alexquispe.github.io/tutorials/nginx/creacion-y-configuracion-de-un-nuevo-dominio-con-nginx><script>!function(){const t=document.getElementsByTagName("html")[0],e=window.localStorage.getItem("theme");e&&t.setAttribute("data-theme",e);const n=window.localStorage.getItem("lang");n&&n!==t.getAttribute("lang")&&(location.href=document.querySelector(`link[hreflang="${n}"]`).href)}();</script><style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&display=swap');
  </style><link rel=stylesheet href=./static/resource-4cecbcd3.css></head><body><div class=_app-root><header class=_header><div class=_header-content><div class=app-header><ul class=left><li><a class="btn menu-item" href=./ ><span class="icon icon-home-solid"></span> Inicio</a></li><li><a class="btn menu-item" href=./search><span class="icon icon-bolt-solid"></span> Ver todos</a></li><li><a class="btn menu-item d-none d-xl-block" href=./bash>Bash</a></li><li><a class="btn menu-item d-none d-xl-block" href=./docker>Docker</a></li><li><a class="btn menu-item d-none d-xl-block" href=./git>Git</a></li><li><a class="btn menu-item d-none d-xl-block" href=./markdown>Markdown</a></li><li><a class="btn menu-item d-none d-xl-block" href=./nginx>Nginx</a></li><li><a class="btn menu-item d-none d-xl-block" href=./node>Node</a></li><li><a class="btn menu-item d-none d-xl-block" href=./postgres>Postgres</a></li><li><a class="btn menu-item d-none d-xl-block" href=./ssh>SSH</a></li></ul><ul class=right><li class="d-none d-sm-flex align-items-center"><form id=search-form class=d-flex data-url=./search><span class="icon icon-search-solid"></span><input id=search-form-q type=text placeholder=Buscar></form></li><li><div id=switch-theme-button class="btn menu-item" data-dark-title="Deshabilita el modo oscuro" data-light-title="Habilita el modo oscuro"><span class="icon icon-adjust-solid"></span></div></li><li><div id=switch-language-button class="btn menu-item" data-es-title="Muestra la versión en Inglés" data-en-title="Muestra la versión en Español">En</div></li></ul></div></div></header><article class=_body><div class=_body-content><div class=body-content><div class="container v2"><div class=row><div class="col-xl-2 d-none d-xl-block"><div class="sidenav-container sticky-top"><div id=sidenav><ul><li><a class=sidenav-item section-link=creaci%C3%B3n-y-configuraci%C3%B3n-de-un-nuevo-dominio-con-nginx>Creación y configuración de un nuevo dominio con Nginx</a></li><li><a class=sidenav-item section-link=requerimientos>Requerimientos</a></li><li><a class=sidenav-item section-link=1.-ubicaci%C3%B3n-del-dominio>1. Ubicación del dominio</a></li><li><a class=sidenav-item section-link=2.-configuraci%C3%B3n-en-nginx>2. Configuración en Nginx</a></li><li><a class=sidenav-item section-link=3.-configuraci%C3%B3n-adicional-para-un-dominio-local>3. Configuración adicional para un dominio local</a></li><li><a class=sidenav-item section-link=4.-verificaci%C3%B3n>4. Verificación</a></li><li><a class=sidenav-item section-link=5.-p%C3%A1ginas-de-error-personalizadas>5. Páginas de error personalizadas</a></li><li><a class=sidenav-item section-link=6.-proxy-para-servicios-de-nodejs>6. Proxy para servicios de NodeJS</a></li><li><a class=sidenav-item section-link=referencias>Referencias</a></li></ul></div></div></div><div class=col-xl-8><div class="container py-md-5 py-sm-3 py-0"><div class=row><div class="col text-center"><p class="mt-3 mb-0"><a class=category-link href=./nginx title=Categoría>#nginx</a></p></div></div><div class=row><div id=mark class=col><div xmlns=http://www.w3.org/1999/xhtml><h1 id=creaci%C3%B3n-y-configuraci%C3%B3n-de-un-nuevo-dominio-con-nginx class=section><a class=anchor href=#creaci%C3%B3n-y-configuraci%C3%B3n-de-un-nuevo-dominio-con-nginx></a> Creación y configuración de un nuevo dominio con Nginx</h1><p>Proceso de creación y configuración de un dominio con <a href=https://www.nginx.com>Nginx</a> en Sistemas Operativos Debian.</p><h2 id=requerimientos class=section><a class=anchor href=#requerimientos></a> Requerimientos</h2><ul><li>Sistema Operativo Debian versión 9 (Stretch)</li><li>Tener instalado Nginx</li></ul><h2 id=1.-ubicaci%C3%B3n-del-dominio class=section><a class=anchor href=#1.-ubicaci%C3%B3n-del-dominio></a> 1. Ubicación del dominio</h2><p>Crea una carpeta para el dominio.</p><pre class="language-bash cmd"><code>sudo mkdir -p /var/www/your_domain.com/html
</code></pre><p>Adiciona permisos.</p><pre class="language-bash cmd"><code>sudo chown -R $USER:$USER /var/www/your_domain.com/html
</code></pre><pre class="language-bash cmd"><code>sudo chmod -R 755 /var/www/your_domain.com
</code></pre><p>Crea el archivo <code>index.html</code>.</p><pre class="language-bash cmd"><code>nano /var/www/your_domain.com/html/index.html
</code></pre><p class=pre-title>index.html</p><pre class="language-html line-numbers" data-title=index.html data-line=3,6><code>&lt;html>
  &lt;head>
    &lt;title>Welcome to your_domain.com!&lt;/title>
  &lt;/head>
  &lt;body>
    &lt;h1>Success!  The your_domain.com server block is working!&lt;/h1>
  &lt;/body>
&lt;/html>
</code></pre><h2 id=2.-configuraci%C3%B3n-en-nginx class=section><a class=anchor href=#2.-configuraci%C3%B3n-en-nginx></a> 2. Configuración en Nginx</h2><p>Crea el archivo de configuración para el nuevo sitio.</p><pre class="language-bash cmd"><code>sudo nano /etc/nginx/sites-available/your_domain.com
</code></pre><p class=pre-title>your_domain.com</p><pre class="language-bash line-numbers" data-title=your_domain.com data-line=5,8><code>server {
    listen 80;
    listen [::]:80;

    root /var/www/your_domain.com/html;
    index index.html index.htm index.nginx-debian.html;

    server_name your_domain.com www.your_domain.com;

    location / {
        try_files $uri $uri/ =404;
    }
}
</code></pre><p>Crea un enlace simbólico.</p><pre class="language-bash cmd"><code>sudo ln -s /etc/nginx/sites-available/your_domain.com /etc/nginx/sites-enabled/
</code></pre><p>Para evitar posibles problemas con la memoria.</p><pre class="language-bash cmd"><code>sudo nano /etc/nginx/nginx.conf
</code></pre><p>Presiona <code>CTRL + w</code> escribe <code>server_names</code> presiona <code>Enter</code> y descomenta esa línea.</p><p class=pre-title>nginx.conf</p><pre data-title=nginx.conf data-line=5 class=language-bash><code>http {
    ...
    # server_tokens off;

    server_names_hash_bucket_size 64;
    # server_name_in_redirect off;
    ...
}
</code></pre><p>Guarda los cambios, presiona <code>CTRL + o</code> y <code>Enter</code> luego <code>CTRL + x</code> para cerrar el editor.</p><p>Ahora verifica la sintaxis con el siguiente comando:</p><pre class="language-bash cmd"><code>sudo nginx -t
</code></pre><pre class=cmd-output><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful
</code></pre><p>Reinicia el servicio de nginx.</p><pre class="language-bash cmd"><code>sudo systemctl restart nginx
</code></pre><h2 id=3.-configuraci%C3%B3n-adicional-para-un-dominio-local class=section><a class=anchor href=#3.-configuraci%C3%B3n-adicional-para-un-dominio-local></a> 3. Configuración adicional para un dominio local</h2><p>Abre el archivo de configuración del host y adiciona el nuevo dominio al final del archivo.</p><pre class="language-bash cmd"><code>sudo nano /etc/hosts
</code></pre><p class=pre-title>hosts</p><pre data-title=hosts data-line=4 class=language-bash><code>127.0.0.1       localhost
127.0.1.1       debian

127.0.0.1       your_domain.com
</code></pre><h2 id=4.-verificaci%C3%B3n class=section><a class=anchor href=#4.-verificaci%C3%B3n></a> 4. Verificación</h2><p>Ingresa al sitio <a href=http://your_domain.com>http://your_domain.com</a> desde el navegador o ejecuta el siguiente comando en la terminal.</p><pre class="language-bash cmd"><code>curl http://your_domain.com
</code></pre><pre class="language-html cmd-output"><code>&lt;html>
  &lt;head>
    &lt;title>Welcome to your_domain.com!&lt;/title>
  &lt;/head>
  &lt;body>
    &lt;h1>Success!  The your_domain.com server block is working!&lt;/h1>
  &lt;/body>
&lt;/html>
</code></pre><h2 id=5.-p%C3%A1ginas-de-error-personalizadas class=section><a class=anchor href=#5.-p%C3%A1ginas-de-error-personalizadas></a> 5. Páginas de error personalizadas</h2><pre class="language-bash cmd"><code>sudo nano /usr/share/nginx/html/custom_404.html
</code></pre><p class=pre-title>custom_404.html</p><pre data-title=custom_404.html class=language-html><code>&lt;!DOCTYPE html>
&lt;html lang="en">
&lt;head>
  &lt;meta charset="UTF-8">
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0">
  &lt;title>404 Not Found&lt;/title>
&lt;/head>
&lt;body>
  404 Not Found
&lt;/body>
&lt;/html>
</code></pre><pre class="language-bash cmd"><code>sudo nano /etc/nginx/sites-available/your_domain.com
</code></pre><p class=pre-title>your_domain.com</p><pre class="language-bash line-numbers" data-title=your_domain.com data-line=4-8><code>server {
    listen 80;
    ...
    error_page 404 /custom_404.html;
    location = /custom_404.html {
        root /usr/share/nginx/html;
        internal;
    }
}
</code></pre><pre class="language-bash cmd"><code>sudo systemctl restart nginx
</code></pre><h2 id=6.-proxy-para-servicios-de-nodejs class=section><a class=anchor href=#6.-proxy-para-servicios-de-nodejs></a> 6. Proxy para servicios de NodeJS</h2><pre class="language-bash cmd"><code>sudo nano /etc/nginx/sites-available/your_domain.com
</code></pre><p class=pre-title>your_domain.com</p><pre class="language-bash line-numbers" data-title=your_domain.com data-line=4-6><code>server {
    listen 80;
    ...
    location /node-app {
        proxy_pass http://127.0.0.1:4000;
    }
}
</code></pre><pre class="language-bash cmd"><code>sudo systemctl restart nginx
</code></pre><h2 id=referencias class=section><a class=anchor href=#referencias></a> Referencias</h2><ul><li><p><a href=https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-20-04-quickstart>How To Install Nginx on Ubuntu 20.04 [Quickstart]</a></p></li><li><p><a href=https://www.digitalocean.com/community/tutorials/how-to-configure-nginx-to-use-custom-error-pages-on-ubuntu-14-04>How To Configure Nginx to Use Custom Error Pages on Ubuntu 14.04</a></p></li></ul></div></div></div><div class="row pt-5"><div class="col-12 py-5 text-right"><div class=tags-text><p><span class="icon icon-tags-solid" title=Etiquetas></span>&nbsp; <a href=./search?q=install>install</a>&nbsp;<a href=./search?q=config>config</a>&nbsp;<a href=./search?q=domain>domain</a>&nbsp;<a href=./search?q=proxy>proxy</a>&nbsp;</p></div></div><div class="col-12 py-1 text-left"><div class=published-text><p>Publicado: 6 de junio de 2020</p></div></div></div></div></div></div></div><div id=to-top><div class=to-top-icon></div></div></div></div></article><footer class=_footer><div class=_footer-content><div class=app-footer><div class="container h-100"><div class="row d-flex align-items-center h-100"><div class="col text-center">El código se encuentra disponible bajo la licencia <a href=https://oss.ninja/mit target=_blank title="Licencia de software">MIT</a>, a menos que se indique lo contrario. <br> © 2020 <a href=https://alexquispe.github.io target=_blank title=https://alexquispe.github.io>AlexQuispe</a> - Desarrollado con <a href=https://markojs.com target=_blank title=https://markojs.com>Marko JS</a></div></div></div></div></div></footer></div><script src=./static/resource-fcf21685.js></script>
<script>$_mod.ready();</script></body></html>